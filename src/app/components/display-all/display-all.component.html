
<ng-container
*ngTemplateOutlet="recursiveListTmpl; context:{ root: root }"
></ng-container>

<ng-template #recursiveListTmpl let-root="root">
<ul>
 <p style="margin:0" *ngIf="root?.gender==='male'">
 <span *ngIf="root?.name"  class="icon" [smSvgIcon]="root?.expand? 'add' : 'minus'"></span><span class="name">{{ root?.name }}</span><span *ngIf="root?.name" > -- {{root?.children?.length}}</span>
 </p>
 <div *ngIf="root?.children?.length > 0 && !root?.expand && root?.gender==='male'">
  <li *ngFor="let item of root.children">
    <ng-container
       *ngTemplateOutlet="recursiveListTmpl; context:{ root: getPerson(item)  }"
    ></ng-container>
  </li>
 </div>
</ul>
</ng-template>
